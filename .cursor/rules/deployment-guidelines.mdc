---
description: 
globs: 
alwaysApply: false
---
# 部署与环境配置指南

## 核心部署方式

- **服务管理**: Docker Compose (`docker-compose.yml`) 
- **容器化**: 后端API和AI模型服务构建为Docker镜像
- **部署目标**: 阿里云服务器

## 环境配置

- **配置文件**: 使用 `.env` 文件管理环境变量（不提交到Git）
- **关键变量**: 
  - `DATABASE_URL`: PostgreSQL连接字符串
  - `REDIS_URL`: Redis连接字符串
  - `SECRET_KEY`: FastAPI 应用密钥
  - `ACTIVE_CLOTHING_MODEL`: 当前使用的模型目录名
  - `DEEPSEEK_API_KEY`: DeepSeek API密钥

## 基本架构

- **前端**: 微信小程序
- **API网关**: Nginx
- **后端服务**: FastAPI (Python 3.9+)
- **数据库**: PostgreSQL 15+
- **缓存**: Redis
- **AI服务**: 服装识别(CPU)、图像生成(GPU)

## 参考文档

- Docker配置: [docker-compose.yml](mdc:docker-compose.yml)
- 部署计划: [development_plan.md](mdc:development_plan.md)
- 快速开始: [README.md](mdc:README.md)
